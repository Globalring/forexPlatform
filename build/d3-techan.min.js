!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3={})}(this,function(M){"use strict";function e(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}var o,r,c=(1===(o=e).length&&(r=o,o=function(t,n){return e(r(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;o(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<o(t[i],n)?r=i:e=i+1}return e}}).right,_=Math.sqrt(50),w=Math.sqrt(10),x=Math.sqrt(2);function s(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(_<=o?10:w<=o?5:x<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(_<=o?10:w<=o?5:x<=o?2:1)}var i=Array.prototype.slice;function A(t){return t}var k=1,N=2,S=3,U=4,D=1e-6;function t(t){return"translate("+(t+.5)+",0)"}function u(t){return"translate(0,"+(t+.5)+")"}function E(){return!this.__axis}function n(y,d){var v=[],m=null,_=null,w=6,M=6,x=3,b=y===k||y===U?-1:1,T=y===U||y===N?"x":"y",C=y===k||y===S?t:u;function n(t){var n=null==m?d.ticks?d.ticks.apply(d,v):d.domain():m,e=null==_?d.tickFormat?d.tickFormat.apply(d,v):A:_,r=Math.max(w,0)+x,i=d.range(),o=+i[0]+.5,u=+i[i.length-1]+.5,a=(d.bandwidth?function(n){var e=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(e=Math.round(e)),function(t){return+n(t)+e}}:function(n){return function(t){return+n(t)}})(d.copy()),c=t.selection?t.selection():t,s=c.selectAll(".domain").data([null]),l=c.selectAll(".tick").data(n,d).order(),f=l.exit(),h=l.enter().append("g").attr("class","tick"),g=l.select("line"),p=l.select("text");s=s.merge(s.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),l=l.merge(h),g=g.merge(h.append("line").attr("stroke","currentColor").attr(T+"2",b*w)),p=p.merge(h.append("text").attr("fill","currentColor").attr(T,b*r).attr("dy",y===k?"0em":y===S?"0.71em":"0.32em")),t!==c&&(s=s.transition(t),l=l.transition(t),g=g.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",D).attr("transform",function(t){return isFinite(t=a(t))?C(t):this.getAttribute("transform")}),h.attr("opacity",D).attr("transform",function(t){var n=this.parentNode.__axis;return C(n&&isFinite(n=n(t))?n:a(t))})),f.remove(),s.attr("d",y===U||y==N?M?"M"+b*M+","+o+"H0.5V"+u+"H"+b*M:"M0.5,"+o+"V"+u:M?"M"+o+","+b*M+"V0.5H"+u+"V"+b*M:"M"+o+",0.5H"+u),l.attr("opacity",1).attr("transform",function(t){return C(a(t))}),g.attr(T+"2",b*w),p.attr(T,b*r).text(e),c.filter(E).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",y===N?"start":y===U?"end":"middle"),c.each(function(){this.__axis=a})}return n.scale=function(t){return arguments.length?(d=t,n):d},n.ticks=function(){return v=i.call(arguments),n},n.tickArguments=function(t){return arguments.length?(v=null==t?[]:i.call(t),n):v.slice()},n.tickValues=function(t){return arguments.length?(m=null==t?null:i.call(t),n):m&&m.slice()},n.tickFormat=function(t){return arguments.length?(_=t,n):_},n.tickSize=function(t){return arguments.length?(w=M=+t,n):w},n.tickSizeInner=function(t){return arguments.length?(w=+t,n):w},n.tickSizeOuter=function(t){return arguments.length?(M=+t,n):M},n.tickPadding=function(t){return arguments.length?(x=+t,n):x},n}var a={value:function(){}};function b(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new l(r)}function l(t){this._=t}function f(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function h(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}l.prototype=b.prototype={constructor:l,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<a;)if(e=(t=o[u]).type)i[e]=h(i[e],t.name,n);else if(null==n)for(e in i)i[e]=h(i[e],t.name,null);return this}for(;++u<a;)if((e=(t=o[u]).type)&&(e=f(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new l(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var g="http://www.w3.org/1999/xhtml",p={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function y(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),p.hasOwnProperty(n)?{space:p[n],local:t}:t}function d(t){var n=y(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===g&&t.documentElement.namespaceURI===g?t.createElement(e):t.createElementNS(n,e)}})(n)}function v(){}function m(t){return null==t?v:function(){return this.querySelector(t)}}function T(){return[]}var C=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var F=document.documentElement;if(!F.matches){var Y=F.webkitMatchesSelector||F.msMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector;C=function(t){return function(){return Y.call(this,t)}}}}var H=C;function L(t){return new Array(t.length)}function P(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}P.prototype={constructor:P,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var j="$";function z(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new P(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function O(t,n,e,r,i,o,u){var a,c,s,l={},f=n.length,h=o.length,g=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(g[a]=s=j+u.call(c,c.__data__,a,n),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)(c=l[s=j+u.call(t,o[a],a,o)])?((r[a]=c).__data__=o[a],l[s]=null):e[a]=new P(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&l[g[a]]===c&&(i[a]=c)}function q(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function I(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function V(t){return t.trim().split(/^|\s+/)}function R(t){return t.classList||new $(t)}function $(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function X(t,n){for(var e=R(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Z(t,n){for(var e=R(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function B(){this.textContent=""}function W(){this.innerHTML=""}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function K(){var t=this.parentNode;t&&t.removeChild(this)}function tt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function nt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}$.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var et={};(M.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(et={mouseenter:"mouseover",mouseleave:"mouseout"}));function rt(e,t,n){return e=it(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function it(e,r,i){return function(t){var n=M.event;M.event=t;try{e.call(this,this.__data__,r,i)}finally{M.event=n}}}function ot(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function ut(c,s,l){var f=et.hasOwnProperty(c.type)?rt:it;return function(t,n,e){var r,i=this.__on,o=f(s,n,e);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=s);this.addEventListener(c.type,o,l),r={type:c.type,name:c.name,value:s,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function at(t,n,e,r){var i=M.event;t.sourceEvent=M.event,M.event=t;try{return n.apply(e,r)}finally{M.event=i}}function ct(t,n,e){var r=I(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var st=[null];function lt(t,n){this._groups=t,this._parents=n}function ft(t){return"string"==typeof t?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],st)}function ht(){for(var t,n=M.event;t=n.sourceEvent;)n=t;return n}function gt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function pt(t){var n=ht();return n.changedTouches&&(n=n.changedTouches[0]),gt(t,n)}function yt(t,n,e){arguments.length<3&&(e=n,n=ht().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return gt(t,r);return null}function dt(){M.event.stopImmediatePropagation()}function vt(){M.event.preventDefault(),M.event.stopImmediatePropagation()}function mt(t){return function(){return t}}function _t(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function wt(){return!M.event.button}function Mt(){return this.parentNode}function xt(t){return null==t?{x:M.event.x,y:M.event.y}:t}function bt(){return"ontouchstart"in this}function Tt(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ct(t){return(t=Tt(Math.abs(t)))?t[1]:NaN}lt.prototype=function(){return new lt([[document.documentElement]],st)}.prototype={constructor:lt,select:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new lt(r,this._parents)},selectAll:function(t){var n;"function"!=typeof t&&(t=null==(n=t)?T:function(){return this.querySelectorAll(n)});for(var e=this._groups,r=e.length,i=[],o=[],u=0;u<r;++u)for(var a,c=e[u],s=c.length,l=0;l<s;++l)(a=c[l])&&(i.push(t.call(a,a.__data__,l,c)),o.push(a));return new lt(i,o)},filter:function(t){"function"!=typeof t&&(t=H(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new lt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?O:z,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),s=new Array(u),l=0;l<u;++l){var f=i[l],h=o[l],g=h.length,p=t.call(f,f&&f.__data__,l,i),y=p.length,d=c[l]=new Array(y),v=a[l]=new Array(y);r(f,h,d,v,s[l]=new Array(g),p,n);for(var m,_,w=0,M=0;w<y;++w)if(m=d[w]){for(M<=w&&(M=w+1);!(_=v[M])&&++M<y;);m._next=_||null}}return(a=new lt(a,i))._enter=c,a._exit=s,a},enter:function(){return new lt(this._enter||this._groups.map(L),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(L),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),g=0;g<f;++g)(c=s[g]||l[g])&&(h[g]=c);for(;a<r;++a)u[a]=n[a];return new lt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];0<=--o;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=q);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(t)}return new lt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=y(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):(r=this.node(),i=t,r.style.getPropertyValue(i)||I(r).getComputedStyle(r,null).getPropertyValue(i));var r,i},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=V(t+"");if(arguments.length<2){for(var r=R(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?X:Z)(this,t)}}:n?function(t){return function(){X(this,t)}}:function(t){return function(){Z(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(J)},append:function(t){var n="function"==typeof t?t:d(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:d(t),r=null==n?G:"function"==typeof n?n:m(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(K)},clone:function(t){return this.select(t?nt:tt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),u=o.length;if(!(arguments.length<2)){for(a=n?ut:ot,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ct(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ct(this,t,n)}})(t,n))}},_t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var At,kt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nt(t){return new St(t)}function St(t){if(!(n=kt.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function Ut(t,n){var e=Tt(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Nt.prototype=St.prototype,St.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Dt={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Ut(100*t,n)},r:Ut,s:function(t,n){var e=Tt(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(At=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:u<o?r+new Array(o-u+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tt(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Et(t){return t}var Ft,Yt,Ht=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lt(t){var n,a,c,x=t.grouping&&t.thousands?(a=t.grouping,c=t.thousands,function(t,n){for(var e=t.length,r=[],i=0,o=a[0],u=0;0<e&&0<o&&(n<u+o+1&&(o=Math.max(1,n-u)),r.push(t.substring(e-=o,e+o)),!((u+=o+1)>n));)o=a[i=(i+1)%a.length];return r.reverse().join(c)}):Et,r=t.currency,b=t.decimal,T=t.numerals?(n=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}):Et,i=t.percent||"%";function u(t){var s=(t=Nt(t)).fill,l=t.align,f=t.sign,n=t.symbol,h=t.zero,g=t.width,p=t.comma,y=t.precision,d=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Dt[v]||(null==y&&(y=12),d=!0,v="g"),(h||"0"===s&&"="===l)&&(h=!0,s="0",l="=");var m="$"===n?r[0]:"#"===n&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===n?r[1]:/[%p]/.test(v)?i:"",w=Dt[v],M=/[defgprs%]/.test(v);function e(t){var n,e,r,i=m,o=_;if("c"===v)o=w(t)+o,t="";else{var u=(t=+t)<0;if(t=w(Math.abs(t),y),d&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),u&&0==+t&&(u=!1),i=(u?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===v?Ht[8+At/3]:"")+o+(u&&"("===f?")":""),M)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?b+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}p&&!h&&(t=x(t,1/0));var a=i.length+t.length+o.length,c=a<g?new Array(g-a+1).join(s):"";switch(p&&h&&(t=x(c+t,c.length?g-o.length:1/0),c=""),l){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,a=c.length>>1)+i+t+o+c.slice(a);break;default:t=c+i+t+o}return T(t)}return y=null==y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),e.toString=function(){return t+""},e}return{format:u,formatPrefix:function(t,n){var e=u(((t=Nt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ct(n)/3))),i=Math.pow(10,-r),o=Ht[8+r/3];return function(t){return e(i*t)+o}}}}Ft=Lt({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),M.format=Ft.format,Yt=Ft.formatPrefix;var Pt="$";function jt(){}function zt(t,n){var e=new jt;if(t instanceof jt)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function Ot(){}jt.prototype=zt.prototype={constructor:jt,has:function(t){return Pt+t in this},get:function(t){return this[Pt+t]},set:function(t,n){return this[Pt+t]=n,this},remove:function(t){var n=Pt+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Pt&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Pt&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Pt&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Pt&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Pt&&++t;return t},empty:function(){for(var t in this)if(t[0]===Pt)return!1;return!0},each:function(t){for(var n in this)n[0]===Pt&&t(this[n],n.slice(1),this)}};var qt=zt.prototype;Ot.prototype=function(t,n){var e=new Ot;if(t instanceof Ot)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ot,has:qt.has,add:function(t){return this[Pt+(t+="")]=t,this},remove:qt.remove,clear:qt.clear,values:qt.keys,size:qt.size,empty:qt.empty,each:qt.each};var It=Array.prototype,Vt=It.map,Rt=It.slice;function $t(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Zt(){}var Bt=1/.7,Wt="\\s*([+-]?\\d+)\\s*",Qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gt=/^#([0-9a-f]{3})$/,Kt=/^#([0-9a-f]{6})$/,tn=new RegExp("^rgb\\("+[Wt,Wt,Wt]+"\\)$"),nn=new RegExp("^rgb\\("+[Jt,Jt,Jt]+"\\)$"),en=new RegExp("^rgba\\("+[Wt,Wt,Wt,Qt]+"\\)$"),rn=new RegExp("^rgba\\("+[Jt,Jt,Jt,Qt]+"\\)$"),on=new RegExp("^hsl\\("+[Qt,Jt,Jt]+"\\)$"),un=new RegExp("^hsla\\("+[Qt,Jt,Jt,Qt]+"\\)$"),an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cn(t){var n;return t=(t+"").trim().toLowerCase(),(n=Gt.exec(t))?new gn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Kt.exec(t))?sn(parseInt(n[1],16)):(n=tn.exec(t))?new gn(n[1],n[2],n[3],1):(n=nn.exec(t))?new gn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=en.exec(t))?ln(n[1],n[2],n[3],n[4]):(n=rn.exec(t))?ln(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=on.exec(t))?yn(n[1],n[2]/100,n[3]/100,1):(n=un.exec(t))?yn(n[1],n[2]/100,n[3]/100,n[4]):an.hasOwnProperty(t)?sn(an[t]):"transparent"===t?new gn(NaN,NaN,NaN,0):null}function sn(t){return new gn(t>>16&255,t>>8&255,255&t,1)}function ln(t,n,e,r){return r<=0&&(t=n=e=NaN),new gn(t,n,e,r)}function fn(t){return t instanceof Zt||(t=cn(t)),t?new gn((t=t.rgb()).r,t.g,t.b,t.opacity):new gn}function hn(t,n,e,r){return 1===arguments.length?fn(t):new gn(t,n,e,null==r?1:r)}function gn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function pn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function yn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new dn(t,n,e,r)}function dn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function vn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}$t(Zt,cn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),$t(gn,hn,Xt(Zt,{brighter:function(t){return t=null==t?Bt:Math.pow(Bt,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+pn(this.r)+pn(this.g)+pn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),$t(dn,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=cn(t)),!t)return new dn;if(t instanceof dn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=0<c&&c<1?0:u,new dn(u,a,c,t.opacity)}(t):new dn(t,n,e,null==r?1:r)},Xt(Zt,{brighter:function(t){return t=null==t?Bt:Math.pow(Bt,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new gn(vn(240<=t?t-240:t+120,i,r),vn(t,i,r),vn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var mn=Math.PI/180,_n=180/Math.PI,wn=.96422,Mn=1,xn=.82521,bn=4/29,Tn=6/29,Cn=3*Tn*Tn,An=Tn*Tn*Tn;function kn(t){if(t instanceof Nn)return new Nn(t.l,t.a,t.b,t.opacity);if(t instanceof Fn){if(isNaN(t.h))return new Nn(t.l,0,0,t.opacity);var n=t.h*mn;return new Nn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof gn||(t=fn(t));var e,r,i=En(t.r),o=En(t.g),u=En(t.b),a=Sn((.2225045*i+.7168786*o+.0606169*u)/Mn);return i===o&&o===u?e=r=a:(e=Sn((.4360747*i+.3850649*o+.1430804*u)/wn),r=Sn((.0139322*i+.0971045*o+.7141733*u)/xn)),new Nn(116*a-16,500*(e-a),200*(a-r),t.opacity)}function Nn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Sn(t){return An<t?Math.pow(t,1/3):t/Cn+bn}function Un(t){return Tn<t?t*t*t:Cn*(t-bn)}function Dn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function En(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}$t(Nn,function(t,n,e,r){return 1===arguments.length?kn(t):new Nn(t,n,e,null==r?1:r)},Xt(Zt,{brighter:function(t){return new Nn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Nn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new gn(Dn(3.1338561*(n=wn*Un(n))-1.6168667*(t=Mn*Un(t))-.4906146*(e=xn*Un(e))),Dn(-.9787684*n+1.9161415*t+.033454*e),Dn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),$t(Fn,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Fn)return new Fn(t.h,t.c,t.l,t.opacity);if(t instanceof Nn||(t=kn(t)),0===t.a&&0===t.b)return new Fn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*_n;return new Fn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Fn(t,n,e,null==r?1:r)},Xt(Zt,{brighter:function(t){return new Fn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Fn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return kn(this).rgb()}}));var Yn=1.78277,Hn=-.29227,Ln=-.90649,Pn=1.97294,jn=Pn*Ln,zn=Pn*Yn,On=Yn*Hn- -.14861*Ln;function qn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function In(t){return function(){return t}}function Vn(o){return 1==(o=+o)?Rn:function(t,n){return n-t?(e=t,r=n,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(t){return Math.pow(e+t*r,i)}):In(isNaN(t)?n:t);var e,r,i}}function Rn(t,n){var e,r,i=n-t;return i?(e=t,r=i,function(t){return e+t*r}):In(isNaN(t)?n:t)}$t(qn,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);t instanceof gn||(t=fn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(On*r+jn*n-zn*e)/(On+jn-zn),o=r-i,u=(Pn*(e-i)-Hn*o)/Ln,a=Math.sqrt(u*u+o*o)/(Pn*i*(1-i)),c=a?Math.atan2(u,o)*_n-120:NaN;return new qn(c<0?c+360:c,a,i,t.opacity)}(t):new qn(t,n,e,null==r?1:r)},Xt(Zt,{brighter:function(t){return t=null==t?Bt:Math.pow(Bt,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*mn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new gn(255*(n+e*(-.14861*r+Yn*i)),255*(n+e*(Hn*r+Ln*i)),255*(n+e*(Pn*r)),this.opacity)}}));var $n=function t(n){var u=Vn(n);function e(n,t){var e=u((n=hn(n)).r,(t=hn(t)).r),r=u(n.g,t.g),i=u(n.b,t.b),o=Rn(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function Xn(n,e){return e-=n=+n,function(t){return n+e*t}}var Zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bn=new RegExp(Zn.source,"g");function Wn(t,n){var e,r=typeof n;return null==n||"boolean"===r?In(n):("number"===r?Xn:"string"===r?(e=cn(n))?(n=e,$n):function(t,r){var n,e,i,o,u,a=Zn.lastIndex=Bn.lastIndex=0,c=-1,s=[],l=[];for(t+="",r+="";(n=Zn.exec(t))&&(e=Bn.exec(r));)(i=e.index)>a&&(i=r.slice(a,i),s[c]?s[c]+=i:s[++c]=i),(n=n[0])===(e=e[0])?s[c]?s[c]+=e:s[++c]=e:(s[++c]=null,l.push({i:c,x:Xn(n,e)})),a=Bn.lastIndex;return a<r.length&&(i=r.slice(a),s[c]?s[c]+=i:s[++c]=i),s.length<2?l[0]?(u=l[0].x,function(t){return u(t)+""}):(o=r,function(){return o}):(r=l.length,function(t){for(var n,e=0;e<r;++e)s[(n=l[e]).i]=n.x(t);return s.join("")})}:n instanceof cn?$n:n instanceof Date?function(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=Wn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Wn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:Xn)(t,n)}function Qn(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}}Math.PI,Math.SQRT2;function Jn(t){return+t}var Gn=[0,1];function Kn(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:(t=e,function(){return t});var t}function te(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return u=o<i?(i=e(o,i),r(a,u)):(i=e(i,o),r(u,a)),function(t){return u(i(t))}}function ne(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),u=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)o[a]=n(e[a],e[a+1]),u[a]=r(t[a],t[a+1]);return function(t){var n=c(e,t,1,i)-1;return u[n](o[n](t))}}function ee(t,n,e){var r,i,o,u,a,c,s,l,f,h,g,p,y=t[0],d=t[t.length-1],v=(i=y,o=d,u=null==n?10:n,a=Math.abs(o-i)/Math.max(0,u),c=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),_<=(s=a/c)?c*=10:w<=s?c*=5:x<=s&&(c*=2),o<i?-c:c);switch((e=Nt(null==e?",f":e)).type){case"s":var m=Math.max(Math.abs(y),Math.abs(d));return null!=e.precision||isNaN((g=v,p=m,r=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ct(p)/3)))-Ct(Math.abs(g)))))||(e.precision=r),Yt(e,m);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN((f=v,h=Math.max(Math.abs(y),Math.abs(d)),f=Math.abs(f),h=Math.abs(h)-f,r=Math.max(0,Ct(h)-Ct(f))+1))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN((l=v,r=Math.max(0,-Ct(Math.abs(l)))))||(e.precision=r-2*("%"===e.type))}return M.format(e)}function re(a){var c=a.domain;return a.ticks=function(t){var n=c();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)==(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=s(t,n,e))||!isFinite(u))return[];if(0<u)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},a.tickFormat=function(t,n){return ee(c(),t,n)},a.nice=function(t){null==t&&(t=10);var n,e=c(),r=0,i=e.length-1,o=e[r],u=e[i];return u<o&&(n=o,o=u,u=n,n=r,r=i,i=n),0<(n=s(o,u,t))?n=s(o=Math.floor(o/n)*n,u=Math.ceil(u/n)*n,t):n<0&&(n=s(o=Math.ceil(o*n)/n,u=Math.floor(u*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(u/n)*n,c(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(u*n)/n,c(e)),a},a}var ie=new Date,oe=new Date;function ue(o,u,e,r){function a(t){return o(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return o(t=new Date(t-1)),u(t,1),o(t),t},a.round=function(t){var n=a(t),e=a.ceil(t);return t-n<e-t?n:e},a.offset=function(t,n){return u(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(t,n,e){var r,i=[];if(t=a.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),u(t,e),o(t),r<t&&t<n;);return i},a.filter=function(e){return ue(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;u(t,-1),!e(t););else for(;0<=--n;)for(;u(t,1),!e(t););})},e&&(a.count=function(t,n){return ie.setTime(+t),oe.setTime(+n),o(ie),o(oe),Math.floor(e(ie,oe))},a.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?a.filter(r?function(t){return r(t)%n==0}:function(t){return a.count(0,t)%n==0}):a:null}),a}var ae=ue(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});ae.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?ue(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):ae:null};ae.range;var ce=6e4,se=36e5,le=ue(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),fe=(le.range,ue(function(t){t.setTime(Math.floor(t/ce)*ce)},function(t,n){t.setTime(+t+n*ce)},function(t,n){return(n-t)/ce},function(t){return t.getMinutes()})),he=(fe.range,ue(function(t){var n=t.getTimezoneOffset()*ce%se;n<0&&(n+=se),t.setTime(Math.floor((+t-n)/se)*se+n)},function(t,n){t.setTime(+t+n*se)},function(t,n){return(n-t)/se},function(t){return t.getHours()})),ge=(he.range,ue(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ce)/864e5},function(t){return t.getDate()-1}));ge.range;function pe(n){return ue(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ce)/6048e5})}var ye=pe(0),de=pe(1),ve=(pe(2),pe(3),pe(4)),me=(pe(5),pe(6),ye.range,ue(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),_e=(me.range,ue(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));_e.every=function(e){return isFinite(e=Math.floor(e))&&0<e?ue(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};_e.range;var we=ue(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*ce)},function(t,n){return(n-t)/ce},function(t){return t.getUTCMinutes()}),Me=(we.range,ue(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*se)},function(t,n){return(n-t)/se},function(t){return t.getUTCHours()})),xe=(Me.range,ue(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}));xe.range;function be(n){return ue(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var Te=be(0),Ce=be(1),Ae=(be(2),be(3),be(4)),ke=(be(5),be(6),Te.range,ue(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Ne=(ke.range,ue(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Ne.every=function(e){return isFinite(e=Math.floor(e))&&0<e?ue(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};Ne.range;function Se(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ue(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function De(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Ee,Fe,Ye={"-":"",_:" ",0:"0"},He=/^\s*\d+/,Le=/^%/,Pe=/[\\^$*+?|[\]().{}]/g;function je(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function ze(t){return t.replace(Pe,"\\$&")}function Oe(t){return new RegExp("^(?:"+t.map(ze).join("|")+")","i")}function qe(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Ie(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ve(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Re(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function $e(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Xe(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ze(t,n,e){var r=He.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Be(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function We(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Qe(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Je(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ge(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ke(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function tr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function nr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function er(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function rr(t,n,e){var r=He.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ir(t,n,e){var r=Le.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function or(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ur(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ar(t,n){return je(t.getDate(),n,2)}function cr(t,n){return je(t.getHours(),n,2)}function sr(t,n){return je(t.getHours()%12||12,n,2)}function lr(t,n){return je(1+ge.count(_e(t),t),n,3)}function fr(t,n){return je(t.getMilliseconds(),n,3)}function hr(t,n){return fr(t,n)+"000"}function gr(t,n){return je(t.getMonth()+1,n,2)}function pr(t,n){return je(t.getMinutes(),n,2)}function yr(t,n){return je(t.getSeconds(),n,2)}function dr(t){var n=t.getDay();return 0===n?7:n}function vr(t,n){return je(ye.count(_e(t),t),n,2)}function mr(t,n){var e=t.getDay();return t=4<=e||0===e?ve(t):ve.ceil(t),je(ve.count(_e(t),t)+(4===_e(t).getDay()),n,2)}function _r(t){return t.getDay()}function wr(t,n){return je(de.count(_e(t),t),n,2)}function Mr(t,n){return je(t.getFullYear()%100,n,2)}function xr(t,n){return je(t.getFullYear()%1e4,n,4)}function br(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+je(n/60|0,"0",2)+je(n%60,"0",2)}function Tr(t,n){return je(t.getUTCDate(),n,2)}function Cr(t,n){return je(t.getUTCHours(),n,2)}function Ar(t,n){return je(t.getUTCHours()%12||12,n,2)}function kr(t,n){return je(1+xe.count(Ne(t),t),n,3)}function Nr(t,n){return je(t.getUTCMilliseconds(),n,3)}function Sr(t,n){return Nr(t,n)+"000"}function Ur(t,n){return je(t.getUTCMonth()+1,n,2)}function Dr(t,n){return je(t.getUTCMinutes(),n,2)}function Er(t,n){return je(t.getUTCSeconds(),n,2)}function Fr(t){var n=t.getUTCDay();return 0===n?7:n}function Yr(t,n){return je(Te.count(Ne(t),t),n,2)}function Hr(t,n){var e=t.getUTCDay();return t=4<=e||0===e?Ae(t):Ae.ceil(t),je(Ae.count(Ne(t),t)+(4===Ne(t).getUTCDay()),n,2)}function Lr(t){return t.getUTCDay()}function Pr(t,n){return je(Ce.count(Ne(t),t),n,2)}function jr(t,n){return je(t.getUTCFullYear()%100,n,2)}function zr(t,n){return je(t.getUTCFullYear()%1e4,n,4)}function Or(){return"+0000"}function qr(){return"%"}function Ir(t){return+t}function Vr(t){return Math.floor(+t/1e3)}Ee=function(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,s=Oe(n),l=qe(n),f=Oe(e),h=qe(e),g=Oe(u),p=qe(u),y=Oe(a),d=qe(a),v=Oe(c),m=qe(c),_={a:function(t){return u[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:ar,e:ar,f:hr,H:cr,I:sr,j:lr,L:fr,m:gr,M:pr,p:function(t){return n[+(12<=t.getHours())]},Q:Ir,s:Vr,S:yr,u:dr,U:vr,V:mr,w:_r,W:wr,x:null,X:null,y:Mr,Y:xr,Z:br,"%":qr},w={a:function(t){return u[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Tr,e:Tr,f:Sr,H:Cr,I:Ar,j:kr,L:Nr,m:Ur,M:Dr,p:function(t){return n[+(12<=t.getUTCHours())]},Q:Ir,s:Vr,S:Er,u:Fr,U:Yr,V:Hr,w:Lr,W:Pr,x:null,X:null,y:jr,Y:zr,Z:Or,"%":qr},M={a:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=d[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return T(t,r,n,e)},d:Je,e:Je,f:rr,H:Ke,I:Ke,j:Ge,L:er,m:Qe,M:tr,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:or,s:ur,S:nr,u:Ve,U:Re,V:$e,w:Ie,W:Xe,x:function(t,n,e){return T(t,i,n,e)},X:function(t,n,e){return T(t,o,n,e)},y:Be,Y:Ze,Z:We,"%":ir};function x(c,s){return function(t){var n,e,r,i=[],o=-1,u=0,a=c.length;for(t instanceof Date||(t=new Date(+t));++o<a;)37===c.charCodeAt(o)&&(i.push(c.slice(u,o)),null!=(e=Ye[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=s[n])&&(n=r(t,e)),i.push(n),u=o+1);return i.push(c.slice(u,o)),i.join("")}}function b(i,o){return function(t){var n,e,r=De(1900);if(T(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),r.d="Z"in r?(n=4<(e=(n=Ue(De(r.y))).getUTCDay())||0===e?Ce.ceil(n):Ce(n),n=xe.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(De(r.y))).getDay())||0===e?de.ceil(n):de(n),n=ge.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Ue(De(r.y)).getUTCDay():o(De(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Ue(r)):o(r)}}function T(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(c<=r)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=M[i in Ye?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=x(i,_),_.X=x(o,_),_.c=x(r,_),w.x=x(i,w),w.X=x(o,w),w.c=x(r,w),{format:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=b(t+="",Se);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=b(t,Ue);return n.toString=function(){return t},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),M.timeFormat=Ee.format,Ee.parse,M.utcFormat=Ee.utcFormat,Fe=Ee.utcParse;var Rr="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||M.utcFormat(Rr);+new Date("2000-01-01T00:00:00.000Z")||Fe(Rr);var $r=Math.PI,Xr=2*$r,Zr=1e-6,Br=Xr-Zr;function Wr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qr(){return new Wr}function Jr(t){return function(){return t}}Wr.prototype=Qr.prototype={constructor:Wr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,l=u-n,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(Zr<f)if(Math.abs(l*a-c*s)>Zr&&i){var h=e-o,g=r-u,p=a*a+c*c,y=h*h+g*g,d=Math.sqrt(p),v=Math.sqrt(f),m=i*Math.tan(($r-Math.acos((p+f-y)/(2*d*v)))/2),_=m/v,w=m/d;Math.abs(_-1)>Zr&&(this._+="L"+(t+_*s)+","+(n+_*l)),this._+="A"+i+","+i+",0,0,"+ +(s*g<l*h)+","+(this._x1=t+w*a)+","+(this._y1=n+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>Zr||Math.abs(this._y1-s)>Zr)&&(this._+="L"+c+","+s),e&&(f<0&&(f=f%Xr+Xr),Br<f?this._+="A"+e+","+e+",0,1,"+l+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):Zr<f&&(this._+="A"+e+","+e+",0,"+ +($r<=f)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};Math.PI;function Gr(t){this._context=t}function Kr(t){return new Gr(t)}function ti(t){return t[0]}function ni(t){return t[1]}function ei(){var u=ti,a=ni,c=Jr(!0),s=null,l=Kr,f=null;function n(t){var n,e,r,i=t.length,o=!1;for(null==s&&(f=l(r=Qr())),n=0;n<=i;++n)!(n<i&&c(e=t[n],n,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+u(e,n,t),+a(e,n,t));if(r)return f=null,r+""||null}return n.x=function(t){return arguments.length?(u="function"==typeof t?t:Jr(+t),n):u},n.y=function(t){return arguments.length?(a="function"==typeof t?t:Jr(+t),n):a},n.defined=function(t){return arguments.length?(c="function"==typeof t?t:Jr(!!t),n):c},n.curve=function(t){return arguments.length?(l=t,null!=s&&(f=l(s)),n):l},n.context=function(t){return arguments.length?(null==t?s=f=null:f=l(s=t),n):s},n}function ri(t){return t<0?-1:1}function ii(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(ri(o)+ri(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function oi(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ui(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function ai(t){this._context=t}function ci(t){this._context=t}Gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ui(this,this._t0,oi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ui(this,oi(this,e=ii(this,t,n)),e);break;default:ui(this,this._t0,e=ii(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new ci(t)}.prototype=Object.create(ai.prototype)).point=function(t,n){ai.prototype.point.call(this,n,t)},ci.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};var si={},li={};function fi(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function hi(o){var n=new RegExp('["'+o+"\n\r]"),f=o.charCodeAt(0);function e(r,t){var n,e=[],i=r.length,o=0,u=0,a=i<=0,c=!1;function s(){if(a)return li;if(c)return c=!1,si;var t,n,e=o;if(34===r.charCodeAt(e)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?a=!0:10===(n=r.charCodeAt(o++))?c=!0:13===n&&(c=!0,10===r.charCodeAt(o)&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(n=r.charCodeAt(t=o++)))c=!0;else if(13===n)c=!0,10===r.charCodeAt(o)&&++o;else if(n!==f)continue;return r.slice(e,t)}return a=!0,r.slice(e,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(n=s())!==li;){for(var l=[];n!==si&&n!==li;)l.push(n),n=s();t&&null==(l=t(l,u++))||e.push(l)}return e}function r(t){return t.map(u).join(o)}function u(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var u,a,n=e(t,function(t,n){if(u)return u(t,n-1);var e,r,i;a=t,u=o?(r=o,i=fi(e=t),function(t,n){return r(i(t),n,e)}):fi(t)});return n.columns=a||[],n},parseRows:e,format:function(t,e){var n,r,i;return null==e&&(n=t,r=Object.create(null),i=[],n.forEach(function(t){for(var n in t)n in r||i.push(r[n]=n)}),e=i),[e.map(u).join(o)].concat(t.map(function(n){return e.map(function(t){return u(n[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}var gi=hi(",").parse;hi("\t");M.bisect=c,M.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&r<e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r<e&&(r=e);return r},M.min=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e<=e)for(r=e;++o<i;)null!=(e=t[o])&&e<r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e<=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e<r&&(r=e);return r},M.axisBottom=function(t){return n(S,t)},M.axisLeft=function(t){return n(U,t)},M.axisRight=function(t){return n(N,t)},M.axisTop=function(t){return n(k,t)},M.dispatch=b,M.drag=function(){var i,o,u,a,c=wt,s=Mt,n=xt,e=bt,p={},r=b("start","drag","end"),y=0,l=0;function d(t){t.on("mousedown.drag",f).filter(e).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!a&&c.apply(this,arguments)){var t,n,e,r=w("mouse",s.apply(this,arguments),pt,this,arguments);r&&(ft(M.event.view).on("mousemove.drag",h,!0).on("mouseup.drag",g,!0),t=M.event.view,n=t.document.documentElement,e=ft(t).on("dragstart.drag",vt,!0),"onselectstart"in n?e.on("selectstart.drag",vt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none"),dt(),u=!1,i=M.event.clientX,o=M.event.clientY,r("start"))}}function h(){if(vt(),!u){var t=M.event.clientX-i,n=M.event.clientY-o;u=l<t*t+n*n}p.mouse("drag")}function g(){var t,n,e,r;ft(M.event.view).on("mousemove.drag mouseup.drag",null),t=M.event.view,n=u,e=t.document.documentElement,r=ft(t).on("dragstart.drag",null),n&&(r.on("click.drag",vt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect),vt(),p.mouse("end")}function v(){if(c.apply(this,arguments)){var t,n,e=M.event.changedTouches,r=s.apply(this,arguments),i=e.length;for(t=0;t<i;++t)(n=w(e[t].identifier,r,yt,this,arguments))&&(dt(),n("start"))}}function m(){var t,n,e=M.event.changedTouches,r=e.length;for(t=0;t<r;++t)(n=p[e[t].identifier])&&(vt(),n("drag"))}function _(){var t,n,e=M.event.changedTouches,r=e.length;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),t=0;t<r;++t)(n=p[e[t].identifier])&&(dt(),n("end"))}function w(i,o,u,a,c){var s,l,f,h=u(o,i),g=r.copy();if(at(new _t(d,"beforestart",s,i,y,h[0],h[1],0,0,g),function(){return null!=(M.event.subject=s=n.apply(a,c))&&(l=s.x-h[0]||0,f=s.y-h[1]||0,!0)}))return function t(n){var e,r=h;switch(n){case"start":p[i]=t,e=y++;break;case"end":delete p[i],--y;case"drag":h=u(o,i),e=y}at(new _t(d,n,s,i,e,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],g),g.apply,g,[n,a,c])}}return d.filter=function(t){return arguments.length?(c="function"==typeof t?t:mt(!!t),d):c},d.container=function(t){return arguments.length?(s="function"==typeof t?t:mt(t),d):s},d.subject=function(t){return arguments.length?(n="function"==typeof t?t:mt(t),d):n},d.touchable=function(t){return arguments.length?(e="function"==typeof t?t:mt(!!t),d):e},d.on=function(){var t=r.on.apply(r,arguments);return t===r?d:t},d.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,d):Math.sqrt(l)},d},M.scaleLinear=function n(){var e=function(n,e){var r,o,u,a=Gn,c=Gn,s=Wn,l=!1;function i(){return r=2<Math.min(a.length,c.length)?ne:te,o=u=null,t}function t(t){return(o||(o=r(a,c,l?(i=n,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=n?0:e<=t?1:r(t)}}):n,s)))(+t);var i}return t.invert=function(t){return(u||(u=r(c,a,Kn,l?(i=e,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=0?n:1<=t?e:r(t)}}):e)))(+t);var i},t.domain=function(t){return arguments.length?(a=Vt.call(t,Jn),i()):a.slice()},t.range=function(t){return arguments.length?(c=Rt.call(t),i()):c.slice()},t.rangeRound=function(t){return c=Rt.call(t),s=Qn,i()},t.clamp=function(t){return arguments.length?(l=!!t,i()):l},t.interpolate=function(t){return arguments.length?(s=t,i()):s},i()}(Kn,Xn);return e.copy=function(){return t=e,n().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},re(e)},M.mouse=pt,M.select=ft,M.area=function(){var l=ti,f=null,h=Jr(0),g=ni,p=Jr(!0),y=null,d=Kr,v=null;function n(t){var n,e,r,i,o,u=t.length,a=!1,c=new Array(u),s=new Array(u);for(null==y&&(v=d(o=Qr())),n=0;n<=u;++n){if(!(n<u&&p(i=t[n],n,t))===a)if(a=!a)e=n,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),r=n-1;e<=r;--r)v.point(c[r],s[r]);v.lineEnd(),v.areaEnd()}a&&(c[n]=+l(i,n,t),s[n]=+h(i,n,t),v.point(f?+f(i,n,t):c[n],g?+g(i,n,t):s[n]))}if(o)return v=null,o+""||null}function t(){return ei().defined(p).curve(d).context(y)}return n.x=function(t){return arguments.length?(l="function"==typeof t?t:Jr(+t),f=null,n):l},n.x0=function(t){return arguments.length?(l="function"==typeof t?t:Jr(+t),n):l},n.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:Jr(+t),n):f},n.y=function(t){return arguments.length?(h="function"==typeof t?t:Jr(+t),g=null,n):h},n.y0=function(t){return arguments.length?(h="function"==typeof t?t:Jr(+t),n):h},n.y1=function(t){return arguments.length?(g=null==t?null:"function"==typeof t?t:Jr(+t),n):g},n.lineX0=n.lineY0=function(){return t().x(l).y(h)},n.lineY1=function(){return t().x(l).y(g)},n.lineX1=function(){return t().x(f).y(h)},n.defined=function(t){return arguments.length?(p="function"==typeof t?t:Jr(!!t),n):p},n.curve=function(t){return arguments.length?(d=t,null!=y&&(v=d(y)),n):d},n.context=function(t){return arguments.length?(null==t?y=v=null:v=d(y=t),n):y},n},M.curveMonotoneX=function(t){return new ai(t)},M.line=ei,M.timeDay=ge,M.timeHour=he,M.timeMinute=fe,M.timeMonday=de,M.timeMonth=me,M.timeSecond=le,M.timeYear=_e,M.utcDay=xe,M.utcHour=Me,M.utcMinute=we,M.utcMonday=Ce,M.utcMonth=ke,M.utcSecond=le,M.utcYear=Ne,M.csvParse=gi,Object.defineProperty(M,"__esModule",{value:!0})});